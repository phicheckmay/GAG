--====================================================
-- üìå CONFIG ‚Äì ch·ªânh t·∫°i ƒë√¢y
--====================================================
local CONFIG = {
    SELLER_NAME = "George",
    AUTO_SELL_REPEAT = 120,  -- 120s b√°n all 1 l·∫ßn
    AUTO_BUY_REPEAT = 10,    -- 10s mua h·∫°t 1 l·∫ßn

    AutoBuySeeds = {
        "Shroombino",
        "Mango",
        "King Limone",
        "Starfruit",
    },

    AutoSellRarity = {
        Normal=true, Rare=true, Epic=true, Legendary=true,
        Mythic=true, Secret=true, Godly=true, Limited=true,
        Diamond=true, Neon=true, CandyCorn=true, Rainbow=true,
        Magma=true, Headless=true, Ruby=true
    }
}

repeat task.wait() until game:IsLoaded()
task.wait(3)  -- ‚úÖ Ch·ªù game load xong h·∫≥n

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LP = Players.LocalPlayer
local Backpack = LP:WaitForChild("Backpack")


--====================================================
-- ‚úÖ MODULE 1: B·ªè tim pet/tool
--====================================================
local function unlockAllFavorites()
    local ge = ReplicatedStorage:FindFirstChild("GameEvents", true)
    local favEvent = ge and ge:FindFirstChild("Favorite_Item", true)
    if not favEvent then return end

    local count = 0
    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("d") then
            favEvent:FireServer(tool)
            count += 1
            task.wait(0.05)
        end
    end
    print("‚úÖ [Unlock] ƒê√£ b·ªè tim:", count)
end


--====================================================
-- ‚úÖ MODULE 2: Ch·ªâ B·∫¨T AutoSell
--====================================================
local SellStatus = {}
local function setupAutoSell()
    local AutoSellRemote = ReplicatedStorage.Remotes:FindFirstChild("AutoSell")
    if not AutoSellRemote then return end

    for rarity, wantSell in pairs(CONFIG.AutoSellRarity) do
        if SellStatus[rarity] ~= wantSell then
            AutoSellRemote:FireServer(rarity, wantSell)
            SellStatus[rarity] = wantSell
            print("‚öô AutoSell:", rarity, "‚Üí", wantSell and "SELL" or "KEEP")
        end
        task.wait(0.15)
    end

    print("‚úÖ [AutoSell] Thi·∫øt l·∫≠p xong!")
end


--====================================================
-- ‚úÖ MODULE 3: L·∫∑p SELL ALL m·ªói 120s
--====================================================
local function loopSellAll()
    local SellAllRemote = ReplicatedStorage.Remotes:FindFirstChild("ItemSell")
    if not SellAllRemote then return end

    task.spawn(function()
        while task.wait(CONFIG.AUTO_SELL_REPEAT) do
            SellAllRemote:FireServer(nil, nil, true)
            print("üí∞ [SellAll] ƒê√£ b√°n to√†n b·ªô pet!")
        end
    end)
end


--====================================================
-- ‚úÖ MODULE 4: L·∫∑p Auto mua h·∫°t m·ªói 10s
--====================================================
local function loopAutoBuy()
    local BuyItem = ReplicatedStorage.Remotes.BuyItem
    local RequestAsset = ReplicatedStorage.Remotes.SelectiveAssetService.RequestAsset

    task.spawn(function()
        while task.wait(CONFIG.AUTO_BUY_REPEAT) do
            for _, seed in ipairs(CONFIG.AutoBuySeeds) do
                BuyItem:FireServer(seed, true)
                RequestAsset:FireServer("Brainrots", CONFIG.SELLER_NAME)
                print("üå± [Buy] Mua:", seed)
                task.wait(0.2)
            end
        end
    end)
end


--====================================================
-- ‚úÖ MAIN ‚Äì Ch·∫°y l·∫ßn l∆∞·ª£t theo logic b·∫°n y√™u c·∫ßu
--====================================================
print("üöÄ B·∫Øt ƒë·∫ßu script...")

unlockAllFavorites()  -- 1Ô∏è‚É£
task.wait(0.5)

setupAutoSell()       -- 2Ô∏è‚É£
task.wait(0.5)

loopSellAll()         -- 3Ô∏è‚É£ M·ªói 120s b√°n all
loopAutoBuy()         -- 4Ô∏è‚É£ M·ªói 10s mua h·∫°t

print("‚úÖ Ho√†n t·∫•t! (Unlock + AutoSell + Loop Sell + Loop Buy)")
