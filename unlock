-- ğŸ›¡ï¸ HÃ m chuáº©n hÃ³a tÃªn (loáº¡i bá» pháº§n nhÆ° "Pumpkin [Lvl 5]")
local function baseName(s)
    s = tostring(s or "")
    local cut = s:match("^(.-)%s*%[")
    return (cut and cut ~= "") and cut or s
end

-- ğŸ› ï¸ HÃ m bá» lock (Favorite) toÃ n bá»™ pet Ä‘Ãºng tÃªn trong Backpack
local function unlockAllMatchingPets(petName)
    local ReplicatedStorage = game:GetService("ReplicatedStorage")
    local Players = game:GetService("Players")
    local LP = Players.LocalPlayer

    local Backpack = LP:FindFirstChild("Backpack")
    if not Backpack then 
        warn("[Unlock] Backpack khÃ´ng tá»“n táº¡i!")
        return 
    end

    -- TÃ¬m RemoteEvent Favorite_Item
    local ge = ReplicatedStorage:FindFirstChild("GameEvents", true)
    if not ge then 
        warn("[Unlock] KhÃ´ng tÃ¬m tháº¥y GameEvents!") 
        return 
    end

    local favEvent = ge:FindFirstChild("Favorite_Item", true)
    if not favEvent then 
        warn("[Unlock] KhÃ´ng tÃ¬m tháº¥y RemoteEvent Favorite_Item!") 
        return 
    end

    local count = 0
    for _, tool in ipairs(Backpack:GetChildren()) do
        -- Kiá»ƒm tra Ä‘Ãºng tÃªn + Ä‘ang bá»‹ Favorite (tool:GetAttribute("d") = true)
        if tool:IsA("Tool") and baseName(tool.Name) == petName and tool:GetAttribute("d") then
            favEvent:FireServer(tool)  -- Gá»­i lá»‡nh bá» trÃ¡i tim
            count += 1
            task.wait(0.05)
        end
    end

    print("[Unlock] ÄÃ£ bá» lock " .. count .. " pet tÃªn: " .. tostring(petName))
end

-- =========================
-- âœ… CÃ¡ch dÃ¹ng:
unlockAllMatchingPets("Pumpkin")  -- Thay báº±ng tÃªn pet báº¡n muá»‘n bá» lock
