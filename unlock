--====================================================
-- ‚úÖ 0) ƒê·ª¢I GAME LOAD
--====================================================
repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LP = Players.LocalPlayer
local Backpack = LP:WaitForChild("Backpack")

--====================================================
-- ‚úÖ 1) UNLOCK TO√ÄN B·ªò TOOL/PET C√ì TIM ‚ù§Ô∏è
--====================================================
local function unlockAllFavorites()
    local ge = ReplicatedStorage:FindFirstChild("GameEvents", true)
    if not ge then return end

    local favEvent = ge:FindFirstChild("Favorite_Item", true)
    if not favEvent then return end

    local count = 0
    for _, tool in ipairs(Backpack:GetChildren()) do
        if tool:IsA("Tool") and tool:GetAttribute("d") then
            favEvent:FireServer(tool) -- B·ªè tr√°i tim
            count += 1
            task.wait(0.05)
        end
    end
    print("‚úÖ [Unlock] ƒê√£ b·ªè tim:", count, "tool/pet")
end

unlockAllFavorites()
task.wait(0.5)

--====================================================
-- ‚úÖ 2) B·∫¨T AUTOSELL + SELL ALL BRAINROTS
--====================================================
local AutoSellRemote = ReplicatedStorage.Remotes:FindFirstChild("AutoSell")
local SellAllRemote  = ReplicatedStorage.Remotes:WaitForChild("ItemSell")

local DesiredConfig = {
    Normal=true, Rare=true, Epic=true, Legendary=true,
    Mythic=true, Secret=true, Godly=true, Limited=true,
    Diamond=true, Neon=true, CandyCorn=true, Rainbow=true,
    Magma=true, Headless=true, Ruby=true
}

getgenv().SellStatus = getgenv().SellStatus or {}

local function setAutoSellIfNeeded(rarity, wantSell)
    if getgenv().SellStatus[rarity] == wantSell then return end
    AutoSellRemote:FireServer(rarity, wantSell)
    getgenv().SellStatus[rarity] = wantSell
    print("‚öô AutoSell:", rarity, "‚Üí", wantSell and "SELL" or "KEEP")
end

task.spawn(function()
    for rarity, wantSell in pairs(DesiredConfig) do
        setAutoSellIfNeeded(rarity, wantSell)
        task.wait(0.15)
    end
    -- Sell ALL l·∫ßn ƒë·∫ßu ti√™n
    task.wait(1.5)
    SellAllRemote:FireServer(nil, nil, true)
    print("üí∞ ƒê√£ SELL ALL Brainrots l·∫ßn ƒë·∫ßu!")
end)

--====================================================
-- ‚úÖ 3) AUTOBUY H·∫†T (BuyItem + RequestAsset)
--====================================================
local BuyItem = ReplicatedStorage.Remotes.BuyItem
local RequestAsset = ReplicatedStorage.Remotes.SelectiveAssetService.RequestAsset

-- T√™n NPC b√°n h·∫°t (b·∫°n c√≥ th·ªÉ ƒë·ªïi th√†nh "Madung", "Tim Cheese", ...)
local SellerName = "George"

-- Danh s√°ch h·∫°t c·∫ßn mua li√™n t·ª•c
local SeedList = {
    "",
    "Shroombino",
    "Mango",
    "King Limone",
    "Starfruit",
}

task.spawn(function()
    while task.wait(0.25) do
        for _, seed in ipairs(SeedList) do
            BuyItem:FireServer(seed, true)
            RequestAsset:FireServer("Brainrots", SellerName)
            print("üå± ƒê√£ mua:", seed)
            task.wait(0.25)
        end
    end
end)

print("‚úÖ Script ch·∫°y th√†nh c√¥ng: unlock tim + autosell + autobuy seed")
