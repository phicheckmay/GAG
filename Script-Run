repeat task.wait() until game:IsLoaded()

local Players = game:GetService("Players")
local RS = game:GetService("ReplicatedStorage")
local LP = Players.LocalPlayer

--====================================================
-- üõ°Ô∏è ANTI AFK (Kh√¥ng b·ªã kick)
--====================================================
task.spawn(function()
    -- Reset Idle Timer ƒë·ªÉ game kh√¥ng ƒë·∫øm AFK
    pcall(function()
        RS.Network["Idle Tracking: Stop Timer"]:FireServer()
    end)
    task.wait(0.2)

    local VIM = game:GetService("VirtualInputManager")
    while task.wait() do
        -- Nh·∫•n Space nh·∫π ƒë·ªÉ tr√°nh AFK
        VIM:SendKeyEvent(true, "Space", false, game)
        task.wait(0.2)
        VIM:SendKeyEvent(false, "Space", false, game)
        task.wait(300) -- 5 ph√∫t 1 l·∫ßn
    end
end)

--====================================================
-- ‚ù§Ô∏è B1: UNLOCK TIM (ch·∫°y 1 l·∫ßn duy nh·∫•t)
--====================================================
task.spawn(function()
    local favRemote = RS:WaitForChild("Remotes"):WaitForChild("FavoriteItem")

    -- T√¨m b·∫£ng Favorites trong getgc
    local FavoritesTable
    for _, v in ipairs(getgc(true)) do
        if typeof(v) == "table" and rawget(v, "Favorites") then
            FavoritesTable = rawget(v, "Favorites")
            break
        end
    end

    if not FavoritesTable then
        warn("‚ùå Kh√¥ng t√¨m th·∫•y b·∫£ng Favorites.")
        return
    end

    -- B·ªè tim t·∫•t c·∫£ pet
    local count = 0
    for uuid, _ in pairs(FavoritesTable) do
        if typeof(uuid) == "string" and uuid:match("%x+%-%x+%-%x+%-%x+%-%x+") then
            favRemote:FireServer(uuid)
            count += 1
            task.wait(0.05)
        end
    end

    print("‚úÖ ƒê√£ b·ªè tim:", count, "pet ‚ù§Ô∏è")
end)

--====================================================
-- üóëÔ∏è B2: SELL ALL Brainrots (30 gi√¢y/l·∫ßn)
--====================================================
local SellRemote = RS.Remotes:WaitForChild("ItemSell")
getgenv().AutoSellAll = true

task.spawn(function()
    while getgenv().AutoSellAll do
        pcall(function()
            SellRemote:FireServer(nil, nil, true)
            print("üóëÔ∏è SELL ALL Brainrots DONE!")
        end)
        task.wait(30)
    end
end)
